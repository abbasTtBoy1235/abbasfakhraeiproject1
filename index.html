<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>ماشین‌حساب علمی</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <button id="toggle-theme">🌙 حالت شب</button>

  <div class="calculator">
    <div class="display-container">
      <!-- دکمه حذف -->
      <span id="backspace" title="حذف کاراکتر">
        <svg width="18" height="18" viewBox="0 0 24 24">
          <path fill="#d32f2f" d="M22 3H7c-.55 0-1 .22-1.41.59L0 12l5.59 8.41c.39.37.84.59 1.41.59h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2Zm-1 14H8L3.33 12 8 7h13v10Zm-4.59-9.41L14 10.59 11.41 8 10 9.41 12.59 12 10 14.59 11.41 16 14 13.41 16.59 16 18 14.59 15.41 12 18 9.41 16.59 8Z"/>
        </svg>
      </span>

      <input type="text" id="display" inputmode="decimal" autocomplete="off" placeholder="محاسبه کن..." readonly>

      <!-- دکمه باز کردن کیبورد -->
      <button id="keyboard-btn" title="بازکردن کیبورد">⌨️</button>

      <!-- دکمه کپی -->
      <span id="copy" title="کپی نتیجه">
        <svg width="18" height="18" viewBox="0 0 24 24">
          <path fill="#2e7d32" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1Zm3 4H8c-1.1 0-2 .9-2 2v16h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2Zm0 18H8V7h11v16Z"/>
        </svg>
      </span>
    </div>

    <div class="buttons">
      <button onclick="clearDisplay()">C</button>
      <button onclick="append('(')">(</button>
      <button onclick="append(')')">)</button>
      <button onclick="append('/')">÷</button>

      <button onclick="append('7')">7</button>
      <button onclick="append('8')">8</button>
      <button onclick="append('9')">9</button>
      <button onclick="append('*')">×</button>

      <button onclick="append('4')">4</button>
      <button onclick="append('5')">5</button>
      <button onclick="append('6')">6</button>
      <button onclick="append('-')">−</button>

      <button onclick="append('1')">1</button>
      <button onclick="append('2')">2</button>
      <button onclick="append('3')">3</button>
      <button onclick="append('+')">+</button>

      <button onclick="append('0')">0</button>
      <button onclick="append('.')">.</button>
      <button onclick="calculate()">=</button>
      <button onclick="append('**')">^</button>

      <button onclick="append('Math.PI')">π</button>
      <button onclick="append('Math.E')">e</button>
      <button onclick="append('Math.sqrt(')">√</button>
      <button onclick="append('%')">%</button>

      <button onclick="append('Math.sin(')">sin</button>
      <button onclick="append('Math.cos(')">cos</button>
      <button onclick="append('Math.tan(')">tan</button>
      <button onclick="append('Math.log(')">log</button>
    </div>

    <div class="history">
      <h3>🕓 تاریخچه محاسبات</h3>
      <button id="clear-history">🧹 پاک‌کردن همه</button>
      <ul id="history-list"></ul>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
